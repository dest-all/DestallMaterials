@typeparam TValue

@inherits ClickableComponent

@code {
    [Parameter]
    public Func<TValue, Task> OnValueSetAsync { get; set; } = async s => { };

    [Parameter]
    public Action<TValue> OnValueSet { get; set; } = s => { };

    [Parameter]
    public Action<TValue> OnValueGet { get; set; } = s => { };

    [Parameter]
    public string InputLabel { get; set; }

    [Parameter]
    public TValue Value { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public Action OnBlur { get; set; } = () => { };

    [Parameter]
    public Func<Task> OnMouseIn { get; set; } = async () => { };

    [Parameter]
    public Func<Task> OnMouseOut { get; set; } = async () => { };

    [Parameter]
    public Func<Task> OnClickOutside { get; set; } = async () => { };

    protected virtual async Task OnInput(TValue value)
    {
        Value = value;
        Task onValueSetTask = null;
        if (OnValueSetAsync != null)
        {
            onValueSetTask = OnValueSetAsync(value);
        }
        if (OnValueSet != null)
        {
            OnValueSet(value);
        }
        if (onValueSetTask != null)
        {
            await onValueSetTask;
        }
    }

    protected override async Task OnOuterClickAsync(MouseEventArgs mouseEventArgs)
    {
        await base.OnOuterClickAsync(mouseEventArgs);
        if (OnClickOutside != null)
        {
            await OnClickOutside();
        }
    }

}
